{% extends "base.html" %}
{% block title %} Index {% endblock %}
{% block content %}
<div class="content">
    <div class="d-flex justify-content-between align-items-center bg-success p-2">
        <div class="text-start text-white">
            <h4>{{ nombreusuario }}</h4>
        </div>
        <div class="text-end">
            <a href="/logout" class="btn" style="background-color: #c8e6c7;">Logout</a>
        </div>
    </div>
    <h1 class="animate__animated animate__bounce">Restaurante Gourmet de Guayaquil (Vera Saltos Jimmy )</h1>
    <div class="card mt-4">
        <div class="card-header bg-success text-white text-center fw-bold">
            Crear Nueva Tarea
        </div>
        <div class="card-body">
            <form action="/agregar" method="post">
                <img src="https://www.managementgourmet.com/wp-content/uploads/2019/02/RUYA-NEW-3-1080x675.jpg"  class="d-block mx-auto" style="width: 150px;"> 
                <input class="form-control mt-2" name="description" type="text" placeholder="Ingrese descripción  tarea" value="{{ request.form.description }}">
                {% if error_description %}
                <div class="alert alert-warning mt-2" role="alert">{{ error_description }}</div>
                {% endif %}
                
                <center>
                    <button class="btn btn-success text-white mt-3" type="submit"> <i class="bi bi-floppy"></i> Guardar </button>
                </center>
            </form>
        </div>
    </div>


    <div class="card mt-4 mb-4">
        <div class="card-header bg-success text-white text-center fw-bold">
            Lista De Tareas
        </div>
        <div class="card-body">
            <table class="table mt-3 fs-6">
                <thead class="bg-success text-white">
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">DESCRIPCIÓN</th>
                        <th scope="col">ESTADO</th>
                        <th scope="col"></th>
                    </tr>
                </thead>
    
                <tbody>
                    {% for tarea in Tareas%}
                    <tr>
                        <th scope="row">{{tarea.id}}</th>
                        <td>{{tarea.description}}</td>
                        <td>
                            {% if tarea.state %}
                            <a href="/actualizar/{{tarea.id}}">
                                <i class="bi bi-check-circle-fill text-success"></i>
                            </a>
                            {% else %}
                            <a href="/actualizar/{{tarea.id}}">
                                <i class="bi bi-circle-fill text-danger"></i>
                            </a>
                            {% endif %}
                        </td>
        
                        <td>
                            <a href="/eliminar/{{tarea.id}}">
                                <i class="bi bi-trash-fill text-danger"></i>
                            </a>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}